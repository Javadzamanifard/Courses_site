{% extends '_base.html' %} 
{% load i18n static%} 

{% block CSS %}
    <link rel="stylesheet" href="{% static 'css/failure.css' %}">
{% endblock %}

{% block title %}{% translate "Payment failed" %}{% endblock %}


<div class="failure-container">
    <div class="failure-icon">
        <i class="fas fa-times-circle"></i> 
        ‚ùå
    </div>
    
    <h2 class="failure-title">{% translate "Payment operation failed" %}</h2>
    
    <p class="failure-message">
        {{ message }} 
        {% if not message %}
            {% translate "Your payment was not successful or was canceled by you." %}
        {% endif %}
    </p>

    {% if status_code %}
    <div class="info-box">
        <strong>{% translate "Error code from payment gateway:" %}</strong> {{ status_code }}
        <p class="mt-2">
            {% translate  "If a charge is made, it will usually be automatically refunded to your account within a few hours."  %}
        </p>
    </div>
    {% else %}
    <div class="info-box">
        <p>
            {% translate "If the funds have been deducted from your account and no error code is displayed, please wait for the funds to be refunded or contact support."%}
        </p>
    </div>
    {% endif %}

    <div class="mt-4">
        <a href="{% url 'courses:course_list' %}" class="btn btn-primary">{% translate "Courses" %}</a>
        <a href="#" onclick="window.history.back();" class="btn btn-secondary">{% translate "Retry" %}</a>
    </div>
</div>
{% endblock %}